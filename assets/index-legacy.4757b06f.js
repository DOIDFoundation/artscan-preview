System.register(["./index-legacy.8460688d.js","./entire-legacy.fbfeabd7.js","./vendor-legacy.5567aa4d.js","./list-legacy.e2ca3511.js"],(function(e,t){"use strict";var s,i,n,a,r,l,o,d,c,g,h,p,m,u;return{setters:[e=>{s=e.T,i=e.j,n=e.o,a=e.g},null,e=>{r=e.y,l=e.u,o=e.n,d=e.m,c=e.e,g=e.j,h=e.k},e=>{p=e.g,m=e.a,u=e.b}],execute:function(){var t=Object.defineProperty,b=Object.getOwnPropertyDescriptor,v=(e,s,i,n)=>{for(var a,r=n>1?void 0:n?b(s,i):s,l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n?a(s,i,r):a(r))||r);return n&&r&&t(s,i,r),r};let y=class extends(s("")){constructor(){super(...arguments),this.items=[],this.class=""}connectedCallback(){super.connectedCallback()}render(){return r`<div class="inline-flex gap-1 ${this.class}">${l(this.items,((e,t)=>r`${o(e.url,(()=>r`<dui-link link href="${e.url}">${e.name}</dui-link>`),(()=>r`<span>${e.name}</span>`))} ${o(t<this.items.length-1,(()=>r`<span class="inline-block mx-1 text-gray-400">/</span>`))}`))}</div>`}};v([d()],y.prototype,"items",2),v([d()],y.prototype,"class",2),y=v([c("coll-breadcrumb")],y);var x=Object.defineProperty,k=Object.getOwnPropertyDescriptor,$=(e,t,s,i)=>{for(var n,a=i>1?void 0:i?k(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(a=(i?n(t,s,a):n(a))||a);return i&&a&&x(t,s,a),a};let D=class extends(s("")){constructor(){super(...arguments),this.item={},this.pending=!1,this.err="",this.ts=0,this.meta={},this.getMeta=async()=>{this.meta=await p(this.item)}}get doid(){return this.DOID?.doid}get doidName(){return this.DOID?.name}get token(){return this.DOID?.token}get minter(){return this.token?.minter??""}get tokenID(){return this.token?.tokenID??""}get sequence(){return this.token?.sequence??""}get slugName(){return this.token?.slugName??""}get address(){return this.item.address}get backgroundImage(){return i(this.meta.image_url||this.meta.image)}get empty(){return!this.pending&&!!this.ts&&!this.meta?.name}get opensea(){const e=`${m("url")}/${this.address}/${this.tokenID}`;return{url:e,origin:new URL(e).origin}}get scan(){return`${n().scan}/address/${this.address}`}async getCollection(){if(!this.pending&&(this.slugName||this.tokenID||this.minter)){this.pending=!0,this.err="";try{const e=await u(this);this.item=e||{},await this.getMeta()}catch(e){this.err=e.message||e}this.ts++,this.pending=!1}}async connectedCallback(){super.connectedCallback(),await this.getCollection()}render(){return r`<div class="comp-collection">${o(this.empty,(()=>r``),(()=>r`${o(this.pending,(()=>r`<loading-icon></loading-icon>`),(()=>r`${o(!this.err,(()=>r`<div class="my-4 grid grid-cols-1 lg_grid-cols-5 gap-4 lg_gap-8"><div class="lg_col-span-2 flex flex-col gap-2 items-center p-4 lg_px-6 bg-gray-100 rounded-md"><img-loader class="w-80 h-80 lg_w-60 lg_h-60" src="${this.backgroundImage}" loading="lazy"></img-loader><loading-skeleton class="flex flex-col items-center" .expect="${this.meta?.name}" num="3"><div class="text-base mb-2">${this.meta?.name}</div><div class="break-words break-all text-gray-500">${this.meta?.description}</div></loading-skeleton></div><div class="py-2 lg_mt-0 lg_col-span-3"><b class="inline-block text-white rounded py-0.5 px-1 text-xs mb-2 ${g({"bg-green-600":!!this.meta.sync,"bg-gray-500":!this.meta.sync})}">${this.meta.sync?"Verified":"Unverified"}</b><div class="flex lg_flex-col gap-2 mb-2"><b>Created by:</b> <span class="text-gray-500">${this.doid}</span></div><div class="flex lg_flex-col gap-2 mb-2"><b>Owned by:</b> <span class="text-gray-500">${o(this.item.doids?.length,(()=>r`${this.item.doids?.at(0)?.name}.doid`),(()=>r`<dui-address .address="${this.item.owner}"></dui-address>`))}</span></div><div class="flex lg_flex-col gap-2 mb-2"><b>Marketplace:</b><dui-link open href="${this.opensea.url}">${this.opensea.origin}</dui-link></div><div class="mt-6 lg_mt-6"><div class="text-base mb-3"><b>Meta Info.</b></div><div class="flex flex-col gap-2"><div class="flex gap-2 items-center"><span>Contract:</span><dui-address href="${this.scan}" class="lg_text-sm text-blue-500" .address="${this.item.address}"></dui-address></div><div class="flex gap-2 text-xs lg_text-sm"><span>Token ID:</span> <span class="text-gray-500">${this.item.tokenID}</span></div><div class="flex gap-2 items-center text-xs lg_text-sm"><span>Chain:</span> <span><span class="text-gray-500">Ethereum</span><i class="mdi mdi-ethereum ml-1"></i></span></div></div></div></div></div>`))}`))}`))}</div>`}};$([d()],D.prototype,"DOID",2),$([h()],D.prototype,"cooked",2),$([h()],D.prototype,"item",2),$([h()],D.prototype,"pending",2),$([h()],D.prototype,"err",2),$([h()],D.prototype,"ts",2),$([h()],D.prototype,"meta",2),D=$([c("doid-collection")],D);var f=Object.defineProperty,O=Object.getOwnPropertyDescriptor,I=(e,t,s,i)=>{for(var n,a=i>1?void 0:i?O(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(a=(i?n(t,s,a):n(a))||a);return i&&a&&f(t,s,a),a};let w=e("ViewCollection",class extends(s("")){constructor(){super(...arguments),this.onSearch=e=>{a(`/collection/${e.detail.uri}`)}}get doid(){return this.DOID?.doid}get tokenName(){return this.DOID?.token?.name}get items(){const e=[];return this.tokenName&&e.push({name:this.doid,url:`/collection/${this.doid}`}),e.length&&e.push({name:"Collection"}),e}connectedCallback(){super.connectedCallback()}render(){return r`<div class="view-collection"><div class="dui-container"><doid-search-entire .default="${this.DOID?.val}" @search="${this.onSearch}" placeholder="DOID of artist or artwork"><span slot="label"></span> <span slot="msg"></span></doid-search-entire><coll-breadcrumb .items="${this.items}" class="mb-2"></coll-breadcrumb>${o(this.tokenName,(()=>r`<doid-collection .DOID="${this.DOID}"></doid-collection>`),(()=>r`<doid-collections .DOID="${this.DOID}"></doid-collections>`))}</div></div>`}});I([d()],w.prototype,"DOID",2),e("ViewCollection",w=I([c("view-collection")],w))}}}));
